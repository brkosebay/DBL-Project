{"remainingRequest":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/thread-loader/dist/cjs.js!/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/babel-loader/lib/index.js!/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/berkaykosebay/Documents/GitHub/brkosebay/src/views/fileUpload.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/src/views/fileUpload.vue","mtime":1620287128206},{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9iZXJrYXlrb3NlYmF5L0RvY3VtZW50cy9HaXRIdWIvYnJrb3NlYmF5L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7CmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vbWFpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZmlsZVVwbG9hZCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFzZXRzOiB7CiAgICAgICAgZmlsZUxpbms6IG51bGwsCiAgICAgICAgZGF0YU5hbWU6IG51bGwKICAgICAgfSwKICAgICAgc2VsZWN0ZWRGaWxlOiBudWxsLAogICAgICBkYXRhc2V0Tm86IDAKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBbGxEYXRhYmFzZUVudHJpZXMoKTsgLy90aGUgbW91bnRlZCgpIGxpZmVjeWNsZSBleGVjdXRlcyBhZnRlciBhbGwgY29tcG9uZW50cyBvZiB0aGUgcGFnZSBoYXZlIGZpbmlzaGVkIGxvYWRpbmcsIHNvIGFmdGVyIHRoZSBwYWdlIGlzIHJlYWR5CiAgICAvLyB0aGUgcHJldmlvdXMgdXBsb2FkZWQgZGF0YXNldHMgYXJlIHZpc2libGUgaW4gdGhlIHBhZ2UuCiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RGaWxlOiBmdW5jdGlvbiBzZWxlY3RGaWxlKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOyAvL1NlbGVjdHMgdGhlIHVwbG9hZGVkIGZpbGUgYW5kIGFzc2lnbnMgaXQgdG8gdGhlICJzZWxlY3RlZEZpbGUiIHZhcmlhYmxlLgogICAgICAvL1RPRE86IEFkZCBwcm9wZXIgY2hlY2tzIHRvIGVuc3VyZSB0aGF0IHRoZSBmaWxlcyBnaXZlbiBhcmUgY3N2IGZpbGVzLgogICAgfSwKICAgIHVwbG9hZEZpbGU6IGZ1bmN0aW9uIHVwbG9hZEZpbGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZmlsZU5hbWUgPSAiIi5jb25jYXQodGhpcy5zZWxlY3RlZEZpbGUubmFtZSk7CiAgICAgIHZhciBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZihmaWxlTmFtZSk7CiAgICAgIHZhciB1cGxvYWRUYXNrID0gc3RvcmFnZVJlZi5wdXQodGhpcy5zZWxlY3RlZEZpbGUpOwogICAgICB1cGxvYWRUYXNrLm9uKCdzdGF0ZV9jaGFuZ2VkJywgZnVuY3Rpb24gKCkge30sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC8vSGFuZGxlIHVuc3VjY2Vzc2Z1bGwgdXBsb2Fkcy4KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAvL0hhbmRsZSBzdWNjZXNzZnVsbCB1cGxvYWRzLgogICAgICAgIHVwbG9hZFRhc2suc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAoZG93bmxvYWRVUkwpIHsKICAgICAgICAgIF90aGlzLmRhdGFzZXRzLmZpbGVMaW5rID0gZG93bmxvYWRVUkw7CgogICAgICAgICAgX3RoaXMuc2F2ZURhdGFUb0RCKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVEYXRhVG9EQjogZnVuY3Rpb24gc2F2ZURhdGFUb0RCKCkgewogICAgICBkYi5jb2xsZWN0aW9uKCJkYXRhc2V0cyIpLmFkZCh0aGlzLmRhdGFzZXRzKS50aGVuKGZ1bmN0aW9uIChkb2NSZWYpIHsKICAgICAgICB2YXIgc3VjTXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1zZyIpOwogICAgICAgIHN1Y01zZy5pbm5lckhUTUwgPSAiVGhlIGRhdGFzZXQgaGFzIGJlZW4gdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5LiI7CiAgICAgICAgY29uc29sZS5sb2coIkRvY3VtZW50IHdyaXR0ZW4gd2l0aCBJRDogIiwgZG9jUmVmLmlkKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgYWRkaW5nIGRvY3VtZW50OiAiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dEYXRhYmFzZUVudHJpZXM6IGZ1bmN0aW9uIHNob3dEYXRhYmFzZUVudHJpZXMobmFtZSwgbGluaykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0Jyk7CiAgICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpOwoKICAgICAgdmFyIF9uYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsKCiAgICAgIHZhciBfdmlzdWFsaXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CgogICAgICB2YXIgdmlzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpcycpOyAvLyB2YXIgdGVzdFBhcmFnaHJhcGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMiIpOwoKICAgICAgaGVhZGVyLmlubmVySFRNTCA9ICJEYXRhc2V0LSIgKyArK3RoaXMuZGF0YXNldE5vOwogICAgICBfbmFtZS5pbm5lckhUTUwgPSAiTmFtZSBvZiB0aGUgZGF0YXNldDogIiArIG5hbWU7CiAgICAgIF92aXN1YWxpc2UuaW5uZXJIVE1MID0gIlZpc3VhbGlzZSI7CiAgICAgIF92aXN1YWxpc2Uub25jbGljayA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlLCBkYXRhLCBhcnJheTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB2aXNEaXYuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChsaW5rKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBkMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDIgPSBkMy5hdXRvVHlwZTsKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC50MC5jc3ZQYXJzZS5jYWxsKF9jb250ZXh0LnQwLCBfY29udGV4dC50MSwgX2NvbnRleHQudDIpOwogICAgICAgICAgICAgICAgYXJyYXkgPSBbXTsKICAgICAgICAgICAgICAgIGRhdGEuY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChoZWxsbykgewogICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307CiAgICAgICAgICAgICAgICAgIG9ialsicHJvcGVydHkiXSA9IGhlbGxvOwogICAgICAgICAgICAgICAgICBvYmpbInZhbHVlIl0gPSBoZWxsby5sZW5ndGg7CiAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgIH0pOyAvL3Rlc3RQYXJhZ2hyYXBoLmlubmVySFRNTCA9IGRhdGEuY29sdW1ucy5sZW5ndGg7CiAgICAgICAgICAgICAgICAvL3Zpc0Rpdi5hcHBlbmRDaGlsZCh0ZXN0UGFyYWdocmFwaCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLmdlbmVyYXRlQXJjKGFycmF5KTsKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhcnJheSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwogICAgICB1bC5hcHBlbmRDaGlsZChoZWFkZXIpOwogICAgICB1bC5hcHBlbmRDaGlsZChfbmFtZSk7CiAgICAgIHVsLmFwcGVuZENoaWxkKF92aXN1YWxpc2UpOwogICAgfSwKICAgIGdldEFsbERhdGFiYXNlRW50cmllczogZnVuY3Rpb24gZ2V0QWxsRGF0YWJhc2VFbnRyaWVzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGRiLmNvbGxlY3Rpb24oJ2RhdGFzZXRzJykuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIHZhciBuYW1lID0gZG9jLmRhdGEoKS5kYXRhTmFtZTsKICAgICAgICAgIHZhciBsaW5rID0gZG9jLmRhdGEoKS5maWxlTGluazsKCiAgICAgICAgICBfdGhpczMuc2hvd0RhdGFiYXNlRW50cmllcyhuYW1lLCBsaW5rKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2VuZXJhdGVBcmM6IGZ1bmN0aW9uIGdlbmVyYXRlQXJjKGFycmF5KSB7CiAgICAgIHZhciB3ID0gNTAwOwogICAgICB2YXIgaCA9IDUwMDsKICAgICAgdmFyIGNvbG9ycyA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVEYXJrMik7IC8vdmFyIG1hcmdpbiA9IDQ1OwogICAgICAvL3ZhciByYWRpdXMgPSBNYXRoLm1pbih3LCBoKSAvIDIgLSBtYXJnaW4KCiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiN2aXMiKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgdykuYXR0cigiaGVpZ2h0IiwgaCkuc3R5bGUoImJhY2tncm91bmQiLCAiYmxhY2siKTsKICAgICAgdmFyIGRhdGEgPSBkMy5waWUoKS5zb3J0KG51bGwpLnZhbHVlKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQudmFsdWU7CiAgICAgIH0pKGFycmF5KTsKICAgICAgdmFyIGFyY3MgPSBkMy5hcmMoKS5pbm5lclJhZGl1cygwKS5vdXRlclJhZGl1cygyMDApLnBhZEFuZ2xlKC4wNSkucGFkUmFkaXVzKDUwKTsKICAgICAgdmFyIHBpZXMgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgyNTAsIDI1MCkiKS5zZWxlY3RBbGwoInBhdGgiKS5kYXRhKGRhdGEpOwogICAgICBwaWVzLmVudGVyKCkuYXBwZW5kKCJwYXRoIikuYXR0cigiZCIsIGFyY3MpLmF0dHIoImZpbGwiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBjb2xvcnMoZC5kYXRhLnZhbHVlKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/berkaykosebay/Documents/GitHub/brkosebay/src/views/fileUpload.vue"],"names":[],"mappings":";;;;;AAYA,OAAO,QAAP,MAAqB,UAArB;AACA,OAAO,KAAK,EAAZ,MAAoB,IAApB;AACA,SAAQ,EAAR,QAAiB,SAAjB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,YADO;AAEb,EAAA,IAFa,kBAEL;AACJ,WAAO;AACL,MAAA,QAAQ,EAAE;AACR,QAAA,QAAQ,EAAE,IADF;AAER,QAAA,QAAQ,EAAE;AAFF,OADL;AAKH,MAAA,YAAY,EAAE,IALX;AAMH,MAAA,SAAS,EAAE;AANR,KAAP;AAQH,GAXY;AAYb,EAAA,OAZa,qBAYH;AACR,SAAK,qBAAL,GADQ,CACsB;AACA;AAC/B,GAfY;AAgBb,EAAA,OAAO,EAAE;AACL,IAAA,UADK,sBACM,KADN,EACa;AACd,WAAK,YAAL,GAAoB,KAAK,CAAC,MAAN,CAAa,KAAb,CAAmB,CAAnB,CAApB,CADc,CAC4B;AAC1C;AACH,KAJI;AAKL,IAAA,UALK,wBAKQ;AAAA;;AACT,UAAI,QAAO,aAAO,KAAK,YAAL,CAAkB,IAAzB,CAAX;AACA,UAAI,UAAS,GAAI,QAAQ,CAAC,OAAT,GAAmB,GAAnB,CAAuB,QAAvB,CAAjB;AACA,UAAI,UAAS,GAAI,UAAU,CAAC,GAAX,CAAe,KAAK,YAApB,CAAjB;AACA,MAAA,UAAU,CAAC,EAAX,CAAc,eAAd,EAA+B,YAAM,CACpC,CADD,EACG,UAAC,KAAD,EAAW;AACZ;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OAJD,EAIG,YAAM;AACP;AACA,QAAA,UAAU,CAAC,QAAX,CAAoB,GAApB,CAAwB,cAAxB,GAAyC,IAAzC,CAA8C,UAAC,WAAD,EAAiB;AAC7D,UAAA,KAAI,CAAC,QAAL,CAAc,QAAd,GAAyB,WAAzB;;AACA,UAAA,KAAI,CAAC,YAAL;AACD,SAHD;AAID,OAVD;AAWC,KApBA;AAqBH,IAAA,YArBG,0BAqBY;AACb,MAAA,EAAE,CAAC,UAAH,CAAc,UAAd,EAA0B,GAA1B,CAA8B,KAAK,QAAnC,EAA6C,IAA7C,CAAkD,UAAC,MAAD,EAAY;AAC5D,YAAI,MAAK,GAAI,QAAQ,CAAC,cAAT,CAAwB,KAAxB,CAAb;AACA,QAAA,MAAM,CAAC,SAAP,GAAmB,6CAAnB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,4BAAZ,EAA0C,MAAM,CAAC,EAAjD;AACD,OAJD,EAKC,KALD,CAKQ,UAAC,KAAD,EAAW;AACjB,QAAA,OAAO,CAAC,KAAR,CAAc,yBAAd,EAAyC,KAAzC;AACD,OAPD;AAQC,KA9BA;AA+BH,IAAA,mBA/BG,+BA+BiB,IA/BjB,EA+BuB,IA/BvB,EA+B6B;AAAA;;AAC9B,UAAI,EAAC,GAAI,QAAQ,CAAC,cAAT,CAAwB,MAAxB,CAAT;AACA,UAAI,MAAK,GAAI,QAAQ,CAAC,aAAT,CAAuB,IAAvB,CAAb;;AACA,UAAI,KAAI,GAAI,QAAQ,CAAC,aAAT,CAAuB,IAAvB,CAAZ;;AACA,UAAI,UAAS,GAAI,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAjB;;AACA,UAAI,MAAK,GAAI,QAAQ,CAAC,cAAT,CAAwB,KAAxB,CAAb,CAL8B,CAM/B;;AACC,MAAA,MAAM,CAAC,SAAP,GAAmB,aAAa,EAAE,KAAK,SAAvC;AACA,MAAA,KAAK,CAAC,SAAN,GAAgB,0BAAwB,IAAxC;AACA,MAAA,UAAU,CAAC,SAAX,GAAuB,WAAvB;AACA,MAAA,UAAU,CAAC,OAAX,wEAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AACnB,gBAAA,MAAM,CAAC,SAAP,GAAiB,EAAjB;AADmB;AAAA,uBAEI,KAAK,CAAC,IAAD,CAFT;;AAAA;AAEb,gBAAA,QAFa;AAAA,8BAGN,EAHM;AAAA;AAAA,uBAGY,QAAQ,CAAC,IAAT,EAHZ;;AAAA;AAAA;AAAA,8BAG6B,EAAE,CAAC,QAHhC;AAGb,gBAAA,IAHa,eAGH,QAHG;AAIf,gBAAA,KAJe,GAIP,EAJO;AAKnB,gBAAA,IAAI,CAAC,OAAL,CAAa,OAAb,CAAqB,UAAC,KAAD,EAAW;AAC9B,sBAAI,GAAE,GAAI,EAAV;AACA,kBAAA,GAAG,CAAC,UAAD,CAAH,GAAkB,KAAlB;AACA,kBAAA,GAAG,CAAC,OAAD,CAAH,GAAe,KAAK,CAAC,MAArB;AACA,kBAAA,KAAK,CAAC,IAAN,CAAW,GAAX;AACD,iBALD,EALmB,CAWnB;AACA;;AACA,gBAAA,MAAI,CAAC,WAAL,CAAiB,KAAjB;;AACA,gBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;;AAdmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAArB;AAgBA,MAAA,EAAE,CAAC,WAAH,CAAe,MAAf;AACA,MAAA,EAAE,CAAC,WAAH,CAAe,KAAf;AACA,MAAA,EAAE,CAAC,WAAH,CAAe,UAAf;AACD,KA5DE;AA6DH,IAAA,qBA7DG,mCA6DqB;AAAA;;AACtB,MAAA,EAAE,CAAC,UAAH,CAAc,UAAd,EAA0B,GAA1B,GAAgC,IAAhC,CAAqC,UAAC,QAAD,EAAc;AACjD,QAAA,QAAQ,CAAC,OAAT,CAAiB,UAAC,GAAD,EAAS;AACxB,cAAI,IAAG,GAAI,GAAG,CAAC,IAAJ,GAAW,QAAtB;AACA,cAAI,IAAG,GAAI,GAAG,CAAC,IAAJ,GAAW,QAAtB;;AACA,UAAA,MAAI,CAAC,mBAAL,CAAyB,IAAzB,EAA+B,IAA/B;AACF,SAJA;AAMF,OAPA;AASD,KAvEE;AAwEH,IAAA,WAxEG,uBAwES,KAxET,EAwEgB;AACrB,UAAI,CAAA,GAAI,GAAR;AACA,UAAI,CAAA,GAAI,GAAR;AACA,UAAI,MAAK,GAAI,EAAE,CAAC,YAAH,CAAgB,EAAE,CAAC,WAAnB,CAAb,CAHqB,CAIrB;AAEA;;AAEA,UAAI,GAAE,GAAI,EAAC,CACR,MADO,CACA,MADA,EAEP,MAFO,CAEA,KAFA,EAGP,IAHO,CAGF,OAHE,EAGO,CAHP,EAIP,IAJO,CAIF,QAJE,EAIQ,CAJR,EAKP,KALO,CAKD,YALC,EAKa,OALb,CAAV;AAOA,UAAI,IAAG,GAAI,EAAE,CAAC,GAAH,GAAS,IAAT,CAAc,IAAd,EAAoB,KAApB,CAA0B,UAAS,CAAT,EAAW;AAAC,eAAO,CAAC,CAAC,KAAT;AAAe,OAArD,EAAuD,KAAvD,CAAX;AACA,UAAI,IAAG,GAAI,EAAE,CAAC,GAAH,GACI,WADJ,CACgB,CADhB,EAEI,WAFJ,CAEgB,GAFhB,EAGI,QAHJ,CAGa,GAHb,EAII,SAJJ,CAIc,EAJd,CAAX;AAKA,UAAI,IAAG,GAAI,GAAG,CAAC,MAAJ,CAAW,GAAX,EAAgB,IAAhB,CAAqB,WAArB,EAAkC,qBAAlC,EACe,SADf,CACyB,MADzB,EACiC,IADjC,CACsC,IADtC,CAAX;AAEA,MAAA,IAAI,CAAC,KAAL,GAAa,MAAb,CAAoB,MAApB,EAA4B,IAA5B,CAAiC,GAAjC,EAAsC,IAAtC,EAA4C,IAA5C,CAAiD,MAAjD,EAAyD,UAAS,CAAT,EAAW;AAAC,eAAO,MAAM,CAAC,CAAC,CAAC,IAAF,CAAO,KAAR,CAAb;AAA6B,OAAlG;AACN;AAhGW;AAhBI,CAAf","sourcesContent":["<template>\n  <div class=\"fileupload\" v-bind:style=\"{display:grid}\">\n    <h1>File Upload Page</h1>\n    <input type=\"text\" placeholder=\"Name of the Dataset\" v-model=datasets.dataName class=\"form-control\">\n    <p id=\"msg\"></p><br><br>\n    <input type=\"file\" accept=\".csv\" @change=\"selectFile\"><button @click=\"uploadFile\">Upload</button><br><br>\n    <ul id=\"list\"> </ul>\n  </div><br><br>\n  <div id=\"vis\"></div>\n</template>\n\n<script>\nimport firebase from 'firebase';\nimport * as d3 from 'd3';\nimport {db} from '../main'\n\nexport default {\n  name: 'fileUpload',\n  data () {\n      return {\n        datasets: {\n          fileLink: null,\n          dataName: null,\n        },\n          selectedFile: null,\n          datasetNo: 0\n      }\n  },\n  mounted() {\n    this.getAllDatabaseEntries(); //the mounted() lifecycle executes after all components of the page have finished loading, so after the page is ready\n                                  // the previous uploaded datasets are visible in the page.\n  },\n  methods: {\n      selectFile(event) {\n          this.selectedFile = event.target.files[0] //Selects the uploaded file and assigns it to the \"selectedFile\" variable.\n          //TODO: Add proper checks to ensure that the files given are csv files.\n      },\n      uploadFile() {\n          let fileName = `${this.selectedFile.name}`;\n          var storageRef = firebase.storage().ref(fileName);\n          let uploadTask = storageRef.put(this.selectedFile);\n          uploadTask.on('state_changed', () => {\n          }, (error) => {\n            //Handle unsuccessfull uploads.\n            console.log(error);\n          }, () => {\n            //Handle successfull uploads.\n            uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n              this.datasets.fileLink = downloadURL;\n              this.saveDataToDB();\n            })\n          })\n          },\n        saveDataToDB() {\n          db.collection(\"datasets\").add(this.datasets).then((docRef) => {\n            var sucMsg = document.getElementById(\"msg\")\n            sucMsg.innerHTML = \"The dataset has been uploaded successfully.\"\n            console.log(\"Document written with ID: \", docRef.id);\n          })\n          .catch( (error) => {\n            console.error(\"Error adding document: \", error);\n          })\n          },\n        showDatabaseEntries(name, link) {\n          var ul = document.getElementById('list');\n          var header = document.createElement('h2');\n          var _name = document.createElement('li');\n          var _visualise = document.createElement('button');\n          var visDiv = document.getElementById('vis');\n         // var testParaghraph = document.createElement(\"h2\");\n          header.innerHTML = \"Dataset-\"+ (++this.datasetNo);\n          _name.innerHTML=\"Name of the dataset: \"+name;\n          _visualise.innerHTML = \"Visualise\";\n          _visualise.onclick = async () => {\n            visDiv.innerHTML=\"\";\n            const response = await fetch(link);\n            const data = d3.csvParse(await response.text(), d3.autoType);\n            var array = [];\n            data.columns.forEach((hello) => {\n              var obj = {}\n              obj[\"property\"] = hello;\n              obj[\"value\"] = hello.length;\n              array.push(obj)\n            })\n            //testParaghraph.innerHTML = data.columns.length;\n            //visDiv.appendChild(testParaghraph);\n            this.generateArc(array);\n            console.log(array);\n          }\n          ul.appendChild(header);\n          ul.appendChild(_name);\n          ul.appendChild(_visualise);\n        },\n        getAllDatabaseEntries() {\n          db.collection('datasets').get().then((snapshot) => {\n            snapshot.forEach((doc) => {\n              let name = doc.data().dataName;\n              let link = doc.data().fileLink;\n              this.showDatabaseEntries(name, link);\n            }\n            )\n          }\n          )\n        },\n        generateArc(array) {\n      var w = 500;\n      var h = 500;\n      var colors = d3.scaleOrdinal(d3.schemeDark2);\n      //var margin = 45;\n\n      //var radius = Math.min(w, h) / 2 - margin\n\n      var svg = d3\n        .select(\"#vis\")\n        .append(\"svg\")\n        .attr(\"width\", w)\n        .attr(\"height\", h)\n        .style(\"background\", \"black\");\n\n      var data = d3.pie().sort(null).value(function(d){return d.value})(array);\n      var arcs = d3.arc()\n                    .innerRadius(0)\n                    .outerRadius(200)\n                    .padAngle(.05)\n                    .padRadius(50);\n      var pies = svg.append(\"g\").attr(\"transform\", \"translate(250, 250)\")\n                               .selectAll(\"path\").data(data);\n      pies.enter().append(\"path\").attr(\"d\", arcs).attr(\"fill\", function(d){return colors(d.data.value);});\n}\n}\n}\n</script>\n<style scoped>\n  ul{\n    list-style-type: none;\n  }\n</style>\n\n"],"sourceRoot":""}]}