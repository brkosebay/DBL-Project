(function(e){function t(t){for(var a,c,l=t[0],u=t[1],i=t[2],d=0,f=[];d<l.length;d++)c=l[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);s&&s(t);while(f.length)f.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var u=n[l];0!==r[u]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/DBL-Project/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var s=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"45aa":function(e,t,n){"use strict";n("947f")},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"db",(function(){return R}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={id:"nav"},o=Object(a["e"])("Home"),c=Object(a["e"])(" | "),l=Object(a["e"])("About"),u=Object(a["e"])(" | "),i=Object(a["e"])("File Upload"),s=Object(a["e"])(" | ");function d(e,t){var n=Object(a["u"])("router-link"),d=Object(a["u"])("router-view");return Object(a["o"])(),Object(a["d"])(a["a"],null,[Object(a["f"])("div",r,[Object(a["f"])(n,{to:"/"},{default:Object(a["z"])((function(){return[o]})),_:1}),c,Object(a["f"])(n,{to:"/about"},{default:Object(a["z"])((function(){return[l]})),_:1}),u,Object(a["f"])(n,{to:"/fileupload"},{default:Object(a["z"])((function(){return[i]})),_:1}),s]),Object(a["f"])(d)],64)}n("45aa");const f={};f.render=d;var p=f,b=n("6c02"),m={class:"home"},h=Object(a["f"])("h1",null,"Homepage",-1);function j(e,t,n,r,o,c){return Object(a["o"])(),Object(a["d"])("div",m,[h])}var O={name:"Home",components:{}};O.render=j;var v=O,g={class:"about"},y=Object(a["f"])("h1",null,"This is an about page",-1);function w(e,t){return Object(a["o"])(),Object(a["d"])("div",g,[y])}const I={};I.render=w;var x=I,k=Object(a["B"])("data-v-1fefd331");Object(a["r"])("data-v-1fefd331");var D=Object(a["f"])("h1",null,"File Upload Page",-1),E=Object(a["f"])("p",{id:"msg"},null,-1),B=Object(a["f"])("br",null,null,-1),F=Object(a["f"])("br",null,null,-1),L=Object(a["f"])("br",null,null,-1),T=Object(a["f"])("br",null,null,-1),_=Object(a["f"])("br",null,null,-1),M=Object(a["f"])("br",null,null,-1),P=Object(a["f"])("div",{class:"row"},[Object(a["f"])("ul",{id:"list",class:"column"}),Object(a["f"])("div",{id:"vis",class:"column"})],-1);Object(a["p"])();var A=k((function(e,t,n,r,o,c){return Object(a["o"])(),Object(a["d"])(a["a"],null,[Object(a["f"])("div",{class:"fileupload",style:{display:e.grid}},[D,Object(a["A"])(Object(a["f"])("input",{type:"text",placeholder:"Name of the Dataset","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.datasets.dataName=e}),class:"form-control"},null,512),[[a["x"],o.datasets.dataName]]),E,B,F,Object(a["f"])("input",{type:"file",accept:".csv",onChange:t[2]||(t[2]=function(){return c.selectFile&&c.selectFile.apply(c,arguments)})},null,32),Object(a["f"])("button",{onClick:t[3]||(t[3]=function(){return c.uploadFile&&c.uploadFile.apply(c,arguments)})},"Upload"),L,T],4),_,M,P],64)})),N=n("1da1"),S=(n("96cf"),n("b0c0"),n("d3b7"),n("159b"),n("c740"),n("a15b"),n("2591")),H=n("5698"),U={name:"fileUpload",data:function(){return{datasets:{fileLink:null,dataName:null},selectedFile:null,datasetNo:0}},mounted:function(){this.getAllDatabaseEntries()},methods:{selectFile:function(e){this.selectedFile=e.target.files[0]},uploadFile:function(){var e=this,t="".concat(this.selectedFile.name),n=S["a"].storage().ref(t),a=n.put(this.selectedFile);a.on("state_changed",(function(){}),(function(e){console.log(e)}),(function(){a.snapshot.ref.getDownloadURL().then((function(t){e.datasets.fileLink=t,e.saveDataToDB()}))}))},saveDataToDB:function(){R.collection("datasets").add(this.datasets).then((function(e){var t=document.getElementById("msg");t.innerHTML="The dataset has been uploaded successfully.",console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))},showDatabaseEntries:function(e,t){var n=this,a=document.getElementById("list"),r=document.createElement("h2"),o=document.createElement("li"),c=document.createElement("button"),l=document.getElementById("vis");r.innerHTML="Dataset-"+ ++this.datasetNo,o.innerHTML="Name of the dataset: "+e,c.innerHTML="Visualise",c.onclick=Object(N["a"])(regeneratorRuntime.mark((function e(){var a,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l.innerHTML="",e.next=3,fetch(t);case 3:return a=e.sent,e.t0=H,e.next=7,a.text();case 7:e.t1=e.sent,e.t2=H["autoType"],r=e.t0.csvParse.call(e.t0,e.t1,e.t2),o=[],c=[],r.forEach((function(e){var t={};t["source"]=e.fromId,t["target"]=e.toId,o.push(t);var n={},a={},r=c.findIndex((function(t){return t.employeeID==e.fromId}));-1===r&&(a["employeeID"]=e.fromId,c.push(a));var l=c.findIndex((function(t){return t.employeeID==e.toId}));-1===l&&(n["employeeID"]=e.toId,c.push(n))})),console.log(o),console.log(c),n.generateNetwork(o,c);case 16:case"end":return e.stop()}}),e)}))),a.appendChild(r),a.appendChild(o),a.appendChild(c)},getAllDatabaseEntries:function(){var e=this;R.collection("datasets").get().then((function(t){t.forEach((function(t){var n=t.data().dataName,a=t.data().fileLink;e.showDatabaseEntries(n,a)}))}))},generateNetwork:function(e,t){var n=1e3,a=600,r=H["select"]("#vis").append("svg").attr("width",n).attr("height",a).style("background","black").call(H["zoom"]().on("zoom",(function(e){r.attr("transform",e.transform).scaleExtent([1,24])}))).append("g"),o=H["forceSimulation"](t).force("charge",H["forceManyBody"]().strength(-50)).force("link",H["forceLink"]().id((function(e){return e.employeeID})).links(e)).force("center",H["forceCenter"](n/2,a/2)).on("end",u),c=r.append("g").attr("class","links").selectAll("line").data(e).enter().append("line").style("stroke","#aaa"),l=r.append("g").attr("class","nodes").selectAll("circle").data(t).join("circle").attr("r",5).attr("fill",(function(){return"blue"}));function u(){c.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),l.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}return console.log(o),r.node()}}};n("6982");U.render=A,U.__scopeId="data-v-1fefd331";var z=U,C=[{path:"/",name:"Home",component:v},{path:"/about",name:"About",component:x},{path:"/fileupload",name:"fileUpload",component:z}],G=Object(b["a"])({history:Object(b["b"])(),routes:C}),J=G;S["a"].initializeApp({apiKey:"AIzaSyCAShPra8k4DxiBdJBl7StsVUBqldWG5ec",authDomain:"dbl-project-411b4.firebaseapp.com",projectId:"dbl-project-411b4",storageBucket:"dbl-project-411b4.appspot.com",messagingSenderId:"435554159758",appId:"1:435554159758:web:3e80462ea953f89e3c4ddf",measurementId:"G-15WM1WGL95"});var R=S["a"].firestore();Object(a["c"])(p).use(J).use(J).mount("#app")},6982:function(e,t,n){"use strict";n("9cf9")},"947f":function(e,t,n){},"9cf9":function(e,t,n){}});
//# sourceMappingURL=app.dfe43c45.js.map